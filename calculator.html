<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cost of Living Calculator – Urban Stress Index</title>
  <link rel="stylesheet" href="style.css"/>
</head>

<body>

<header class="topbar">
  <div class="brand">
    <div class="title">Urban Stress Index</div>
    <div class="subtitle">
      An indicator of housing and food cost burden across cities
    </div>
  </div>

  <nav class="nav">
    <a class="nav-btn" href="index.html">Map</a>
    <a class="nav-btn" href="calculator.html">Calculator</a>
    <a class="nav-btn" href="methodology.html">Methodology</a>
    <a class="nav-btn" href="insights.html">Insights</a>
    <a class="nav-btn" href="sources.html">Sources</a>
    <a class="nav-btn" href="disclaimer.html">Disclaimer</a>
  </nav>

</header>

<main class="page">

  <h1>Cost of Living & Disposable Income Calculator</h1>
  <p>
This calculator builds on the Urban Stress Index framework by allowing you to
estimate your remaining disposable income after housing, food, and additional
personal expenses. While USI focuses on structural cost burden (housing and essential food),
this tool extends the analysis to reflect individual lifestyle choices.
</p>

<p style="font-size:0.9rem; color:#666;">
Housing and food represent the baseline affordability pressure used in USI.
Additional categories such as utilities, transport, and discretionary spending
are optional and can be adjusted to match your personal situation.
</p>

  <div class="calc-container">

    <!-- ================= LEFT: TABLE ================= -->
    <div class="calc-table">

      <table>
        <tr>
          <th>Category</th>
          <th>Monthly Amount</th>
        </tr>

        <tr>
          <td>Income</td>
          <td><input type="number" id="income" step="0.01" /></td>
        </tr>

        <tr>
          <td>Housing</td>
          <td><input type="number" id="housing" step="0.01" /></td>
        </tr>

        <tr>
          <td>Food</td>
          <td><input type="number" id="food" step="0.01" /></td>
        </tr>

        <tr>
          <td>Utilities</td>
          <td><input type="number" id="utilities" step="0.01" /></td>
        </tr>

        <tr>
          <td>Public Transport</td>
          <td><input type="number" id="public-transport" step="0.01" /></td>
        </tr>

        <tr>
          <td>Car Expenses</td>
          <td><input type="number" id="car" step="0.01" /></td>
        </tr>

        <tr>
          <td>Clothing</td>
          <td><input type="number" id="clothing" step="0.01" /></td>
        </tr>

        <tr>
          <td>Discretionary</td>
          <td><input type="number" id="discretionary" step="0.01" /></td>
        </tr>

        <tr style="background:#f3f6f9; font-weight:bold;">
          <td>Remaining (% of income)</td>
          <td id="remaining-cell">–</td>
        </tr>
      </table>

      <div class="button-wrapper">
        <button type="button" id="calc-btn">Calculate</button>
      </div>

    </div>

    <!-- ================= RIGHT: REPORT ================= -->
    <div id="report-section">
      <h3 id="result-title">Breakdown & Remaining</h3>

      <canvas id="pieChart"></canvas>

      <div class="button-wrapper">
        <button id="export-pdf">Export as PDF</button>
      </div>
    </div>

  </div>

</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="calculator.js"></script>

</body>
</html>
